(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[645],{2442:function(e,s,a){"use strict";a.d(s,{Z:function(){return l}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,a(2898).Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},9617:function(e,s,a){"use strict";a.d(s,{Z:function(){return l}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,a(2898).Z)("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]])},1138:function(e,s,a){"use strict";a.d(s,{Z:function(){return l}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,a(2898).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},6779:function(e,s,a){Promise.resolve().then(a.bind(a,4350))},4350:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return f}});var l=a(7437),r=a(3536),c=a(2265),i=a(5671),n=a(575),d=a(2782),t=a(3277),x=a(9883),m=a(2442),h=a(9617),o=a(1138);function j(e){let{tags:s,onTagsChange:a,disabled:r=!1}=e,[j,u]=(0,c.useState)(!1),[v,f]=(0,c.useState)(null),[N,p]=(0,c.useState)({name:"",color:"#3B82F6"}),b=["#3B82F6","#EF4444","#10B981","#F59E0B","#8B5CF6","#F97316","#EC4899","#6B7280"],g=e=>{if(e.name.trim()){if(s.find(s=>s.id!==e.id&&s.name.toLowerCase()===e.name.toLowerCase())){alert("標籤名稱已存在！");return}a(s.map(s=>s.id===e.id?e:s)),f(null)}},y=e=>{confirm("確定要刪除這個標籤嗎？")&&a(s.filter(s=>s.id!==e))};return(0,l.jsxs)(i.Zb,{className:"w-full",children:[(0,l.jsx)(i.Ol,{children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsx)(i.ll,{className:"text-lg",children:"標籤管理"}),(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsxs)("span",{className:"stats-text",children:["已建立: ",s.length," 個標籤"]}),!r&&(0,l.jsxs)(n.z,{size:"sm",onClick:()=>u(!0),children:[(0,l.jsx)(x.Z,{className:"w-4 h-4 mr-1"}),"新增標籤"]})]})]})}),(0,l.jsxs)(i.aY,{className:"space-y-4",children:[j&&(0,l.jsx)(i.Zb,{className:"border-2 border-dashed border-blue-200 dark:border-blue-800",children:(0,l.jsxs)(i.aY,{className:"pt-4",children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"form-label-secondary",children:"標籤名稱"}),(0,l.jsx)(d.I,{value:N.name,onChange:e=>p({...N,name:e.target.value}),placeholder:"輸入標籤名稱",className:"mt-1"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"form-label-secondary",children:"顏色"}),(0,l.jsxs)("div",{className:"flex items-center space-x-2 mt-1",children:[(0,l.jsx)("div",{className:"w-8 h-8 rounded border"}),(0,l.jsx)("select",{value:N.color,onChange:e=>p({...N,color:e.target.value}),className:"flex-1 p-2 border rounded-md form-select",children:b.map(e=>(0,l.jsx)("option",{value:e,children:e},e))})]})]})]}),(0,l.jsxs)("div",{className:"flex space-x-2 mt-3",children:[(0,l.jsxs)(n.z,{size:"sm",onClick:()=>{if(!N.name.trim())return;if(s.find(e=>e.name.toLowerCase()===N.name.toLowerCase())){alert("標籤名稱已存在！");return}let e={id:Math.max(0,...s.map(e=>e.id))+1,name:N.name.trim(),color:N.color};a([...s,e]),p({name:"",color:"#3B82F6"}),u(!1)},children:[(0,l.jsx)(m.Z,{className:"w-4 h-4 mr-1"}),"新增"]}),(0,l.jsx)(n.z,{size:"sm",variant:"outline",onClick:()=>{u(!1),p({name:"",color:"#3B82F6"})},children:"取消"})]})]})}),(0,l.jsx)("div",{className:"space-y-2",children:0===s.length?(0,l.jsx)("div",{className:"text-center py-8 empty-state",children:"還沒有標籤，點擊「新增標籤」開始添加"}):s.map(e=>(0,l.jsxs)("div",{children:[(0,l.jsx)(i.Zb,{className:"hover:shadow-sm transition-shadow",children:(0,l.jsx)(i.aY,{className:"p-3",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,l.jsx)(t.C,{children:e.name}),(0,l.jsx)("div",{className:"w-4 h-4 rounded border"})]}),(0,l.jsx)("div",{className:"flex items-center space-x-1",children:!r&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.z,{size:"sm",variant:"ghost",onClick:()=>f(e),children:(0,l.jsx)(h.Z,{className:"w-3 h-3"})}),(0,l.jsx)(n.z,{size:"sm",variant:"ghost",onClick:()=>y(e.id),className:"text-red-600 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300",children:(0,l.jsx)(o.Z,{className:"w-3 h-3"})})]})})]})})}),v&&v.id===e.id&&(0,l.jsx)(i.Zb,{className:"mt-2 border-2 border-dashed border-blue-200 dark:border-blue-800",children:(0,l.jsxs)(i.aY,{className:"pt-4",children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"form-label-secondary",children:"標籤名稱"}),(0,l.jsx)(d.I,{value:v.name,onChange:e=>f({...v,name:e.target.value}),placeholder:"輸入標籤名稱",className:"mt-1"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"form-label-secondary",children:"顏色"}),(0,l.jsxs)("div",{className:"flex items-center space-x-2 mt-1",children:[(0,l.jsx)("div",{className:"w-8 h-8 rounded border"}),(0,l.jsx)("select",{value:v.color,onChange:e=>f({...v,color:e.target.value}),className:"flex-1 p-2 border rounded-md form-select",children:b.map(e=>(0,l.jsx)("option",{value:e,children:e},e))})]})]})]}),(0,l.jsxs)("div",{className:"flex space-x-2 mt-3",children:[(0,l.jsxs)(n.z,{size:"sm",onClick:()=>g(v),children:[(0,l.jsx)(m.Z,{className:"w-4 h-4 mr-1"}),"更新"]}),(0,l.jsx)(n.z,{size:"sm",variant:"outline",onClick:()=>f(null),children:"取消"})]})]})})]},e.id))})]})]})}var u=a(3067),v=a(4033);function f(){let e=(0,v.useRouter)(),{tags:s,updateTags:a}=(0,r.B)();return(0,l.jsxs)("div",{className:"container mx-auto p-6",children:[(0,l.jsx)("div",{className:"flex items-center justify-between mb-6",children:(0,l.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,l.jsxs)(n.z,{variant:"outline",size:"sm",onClick:()=>e.back(),children:[(0,l.jsx)(u.Z,{className:"w-4 h-4 mr-2"}),"返回"]}),(0,l.jsx)("h1",{className:"text-2xl font-bold",children:"標籤管理"})]})}),(0,l.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,l.jsx)("div",{children:(0,l.jsx)(j,{tags:s,onTagsChange:e=>{a(e)}})}),(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)(i.Zb,{children:[(0,l.jsx)(i.Ol,{children:(0,l.jsx)(i.ll,{children:"使用說明"})}),(0,l.jsxs)(i.aY,{className:"space-y-3 text-sm text-gray-600 dark:text-gray-400",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"font-medium text-gray-800 dark:text-gray-200 mb-1",children:"新增標籤"}),(0,l.jsx)("p",{children:"點擊「新增標籤」按鈕，輸入標籤名稱並選擇顏色。"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"font-medium text-gray-800 dark:text-gray-200 mb-1",children:"編輯標籤"}),(0,l.jsx)("p",{children:"點擊標籤旁的編輯圖示，可以修改標籤名稱和顏色。"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"font-medium text-gray-800 dark:text-gray-200 mb-1",children:"刪除標籤"}),(0,l.jsx)("p",{children:"點擊標籤旁的刪除圖示，確認後即可刪除標籤。"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"font-medium text-gray-800 dark:text-gray-200 mb-1",children:"標籤使用"}),(0,l.jsx)("p",{children:"在新增或編輯作品時，可以為作品添加多個標籤。"})]})]})]}),(0,l.jsxs)(i.Zb,{children:[(0,l.jsx)(i.Ol,{children:(0,l.jsx)(i.ll,{children:"標籤統計"})}),(0,l.jsxs)(i.aY,{className:"space-y-2 text-sm text-gray-600 dark:text-gray-400",children:[(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{children:"總標籤數:"}),(0,l.jsx)("span",{className:"font-medium",children:s.length})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{children:"使用中的標籤:"}),(0,l.jsx)("span",{className:"font-medium",children:s.filter(e=>e.id>0).length})]})]})]}),(0,l.jsxs)(i.Zb,{children:[(0,l.jsx)(i.Ol,{children:(0,l.jsx)(i.ll,{children:"注意事項"})}),(0,l.jsxs)(i.aY,{className:"text-xs text-gray-600 dark:text-gray-400 space-y-2",children:[(0,l.jsx)("div",{children:"• 標籤名稱不能重複"}),(0,l.jsx)("div",{children:"• 刪除標籤會從所有作品中移除"}),(0,l.jsx)("div",{children:"• 標籤顏色可以自定義"}),(0,l.jsx)("div",{children:"• 建議使用有意義的標籤名稱"})]})]})]})]})]})}}},function(e){e.O(0,[621,330,262,971,458,744],function(){return e(e.s=6779)}),_N_E=e.O()}]);