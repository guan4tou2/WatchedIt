(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{2898:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n=r(2265),s={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),o=(e,t)=>{let r=(0,n.forwardRef)(({color:r="currentColor",size:o=24,strokeWidth:a=2,absoluteStrokeWidth:l,className:c="",children:u,...d},f)=>(0,n.createElement)("svg",{ref:f,...s,width:o,height:o,stroke:r,strokeWidth:l?24*Number(a)/Number(o):a,className:["lucide",`lucide-${i(e)}`,c].join(" "),...d},[...t.map(([e,t])=>(0,n.createElement)(e,t)),...Array.isArray(u)?u:[u]]));return r.displayName=`${e}`,r}},5817:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r(2898).Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},2549:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r(2898).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},6741:function(e,t,r){Promise.resolve().then(r.t.bind(r,9646,23)),Promise.resolve().then(r.t.bind(r,3385,23)),Promise.resolve().then(r.bind(r,148)),Promise.resolve().then(r.bind(r,5821)),Promise.resolve().then(r.bind(r,3397))},148:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return l}});var n=r(7437),s=r(2265),i=r(575),o=r(5817),a=r(2549);function l(){let[e,t]=(0,s.useState)(null),[r,l]=(0,s.useState)(!1);(0,s.useEffect)(()=>{let e=e=>{e.preventDefault(),t(e),l(!0)},r=()=>{l(!1),t(null),console.log("PWA was installed")};return window.addEventListener("beforeinstallprompt",e),window.addEventListener("appinstalled",r),()=>{window.removeEventListener("beforeinstallprompt",e),window.removeEventListener("appinstalled",r)}},[]);let c=async()=>{if(!e)return;e.prompt();let{outcome:r}=await e.userChoice;"accepted"===r?console.log("User accepted the install prompt"):console.log("User dismissed the install prompt"),t(null),l(!1)};return r?(0,n.jsx)("div",{className:"fixed bottom-4 left-4 right-4 bg-white dropdown-bg border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg p-4 z-50",children:(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,n.jsx)("div",{className:"w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:(0,n.jsx)(o.Z,{className:"w-5 h-5 text-white"})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"font-medium title-text",children:"安裝 WatchedIt"}),(0,n.jsx)("p",{className:"text-sm description-text",children:"將應用程式安裝到主畫面，享受更好的使用體驗"})]})]}),(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsx)(i.z,{onClick:c,size:"sm",className:"bg-blue-500 hover:bg-blue-600",children:"安裝"}),(0,n.jsx)(i.z,{onClick:()=>{l(!1)},variant:"ghost",size:"sm",className:"note-text hover:text-gray-700 dark:hover:text-gray-300",children:(0,n.jsx)(a.Z,{className:"w-4 h-4"})})]})]})}):null}},5821:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return i}});var n=r(4033),s=r(2265);function i(){let e=(0,n.useSearchParams)(),t=(0,n.useRouter)();return(0,s.useEffect)(()=>{if(e){let r=e.get("path");r&&t.replace(r)}},[e,t]),null}},3397:function(e,t,r){"use strict";r.r(t),r.d(t,{ThemeProvider:function(){return o},useTheme:function(){return a}});var n=r(7437),s=r(2265);let i=(0,s.createContext)(void 0);function o(e){let{children:t,defaultTheme:r="auto"}=e,[o,a]=(0,s.useState)(r),[l,c]=(0,s.useState)("light"),[u,d]=(0,s.useState)("light"),[f,h]=(0,s.useState)(!1),m=()=>window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";return((0,s.useEffect)(()=>{h(!0);let e=localStorage.getItem("watchedit_theme");e&&a(e),d(m())},[]),(0,s.useEffect)(()=>{let e=window.matchMedia("(prefers-color-scheme: dark)"),t=e=>{let t=e.matches?"dark":"light";d(t),"auto"===o&&c(t)};return e.addEventListener("change",t),()=>{e.removeEventListener("change",t)}},[o]),(0,s.useEffect)(()=>{let e;if(!f)return;localStorage.setItem("watchedit_theme",o),c(e="auto"===o?u:o);let t=document.documentElement;t.classList.remove("light","dark"),t.classList.add(e);let r=document.querySelector('meta[name="theme-color"]');r&&r.setAttribute("content","dark"===e?"#1f2937":"#3b82f6")},[o,u,f]),f)?(0,n.jsx)(i.Provider,{value:{theme:o,setTheme:a,resolvedTheme:f?l:"light",systemTheme:f?u:"light"},children:t}):null}function a(){let e=(0,s.useContext)(i);if(void 0===e)throw Error("useTheme must be used within a ThemeProvider");return e}},575:function(e,t,r){"use strict";r.d(t,{z:function(){return c}});var n=r(7437),s=r(2265),i=r(7256),o=r(6061),a=r(2169);let l=(0,o.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary/90 text-primary-foreground hover:bg-primary/80",destructive:"bg-destructive/90 text-destructive-foreground hover:bg-destructive/80",outline:"border border-input/60 bg-background hover:bg-accent/50 hover:text-accent-foreground",secondary:"bg-secondary/90 text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent/50 hover:text-accent-foreground",link:"text-primary/90 underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=s.forwardRef((e,t)=>{let{className:r,variant:s,size:o,asChild:c=!1,...u}=e,d=c?i.g7:"button";return(0,n.jsx)(d,{className:(0,a.cn)(l({variant:s,size:o,className:r})),ref:t,...u})});c.displayName="Button"},2169:function(e,t,r){"use strict";r.d(t,{a:function(){return o},cn:function(){return i}});var n=r(7042),s=r(4769);function i(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.m6)((0,n.W)(t))}function o(e){return"".concat("/WatchedIt").concat(e)}},3385:function(){},9646:function(e){e.exports={style:{fontFamily:"'__Inter_181438', '__Inter_Fallback_181438'",fontStyle:"normal"},className:"__className_181438"}},4033:function(e,t,r){e.exports=r(5313)}},function(e){e.O(0,[621,971,458,744],function(){return e(e.s=6741)}),_N_E=e.O()}]);