## WatchedIt 看過了 Web App 規格書（本地單一用戶自架 SQLite 版）

---

### 一、目標

建立一套自用、可自行架設的作品記錄 Web App，支援動畫、小說、漫畫、電影、電視劇與自定義類型，具備進階自動補完、1\~5星評分、標籤、提醒、年度統計、雲端同步（自行架設）及本地資料備份。

---

### 二、核心功能

* **單一用戶本地帳號（免登入）**
* **作品類型**：動畫、小說、漫畫、電影、電視劇、可自定義
* **欄位**：作品名稱、類型、狀態、年份、進度（依類型）、日期、1\~5星評分、短評、標籤（多選/預設/自訂）、備註、來源、提醒
* **自動補完**：搜尋動畫名稱，從 AniList 等 API 抓取多筆結果並可選帶入
* **搜尋/篩選**：名稱、類型、狀態、年份、標籤、關鍵字
* **統計**：年度長條圖、類型統計
* **提醒**：可對特定作品設定 Web 通知提醒
* **標籤管理**：預設一批常用標籤，可自由增刪
* **資料備份還原**：JSON/CSV 格式匯出/還原
* **跨平台響應式 UI**（桌機、平板、手機/PWA）
* **介面**：Shadcn UI 卡片式，主題切換（深/淺色）

---

### 三、技術架構

#### 前端

* **React（建議 Next.js）**
* Shadcn UI
* 支援 PWA（可加桌面/手機桌面）

#### 後端

* **Python（FastAPI/Flask）**
* **SQLite 資料庫**
* RESTful 或簡易 GraphQL API
* 本地部署（支援 Docker/ docker-compose 一鍵部署）
* 單一用戶設計，無登入／無密碼
* 資料不加密，純本地或自架伺服器

#### API 整合

* AniList（或 MyAnimeList）搜尋 API，搜尋名稱時回傳多筆結果供選擇

---

### 四、資料結構（資料庫/JSON 範例）

```json
{
  "id": "uuid",
  "title": "作品名稱",
  "type": "動畫",
  "status": "進行中",
  "year": 2024,
  "progress": {
    "episode": 8,
    "total_episode": 12,
    "duration": "00:24:00"
  },
  "date": "2024-07-30",
  "rating": 4,
  "review": "畫面優美，故事精彩。",
  "tags": ["冒險", "奇幻"],
  "note": "等待第二季",
  "source": "AniList",
  "reminder": {
    "enabled": true,
    "frequency": "weekly"
  }
}
```

---

### 五、操作流程

1. 開啟網頁，直接開始使用（免登入）
2. 新增作品，可用 API 搜尋名稱（出現多筆結果可選）
3. 編輯進度、狀態、評分、標籤、備註
4. 設定提醒、接收 Web 通知
5. 搜尋、篩選、統計分析
6. 資料可隨時備份還原
7. 可於多設備透過同一自架伺服器同步（選配）

---

### 六、容器化部署

* 提供 Dockerfile 與 docker-compose.yml
* 一鍵啟動後端（API + SQLite 資料夾持久化）及前端
* 可本地或雲端自架

---

## 備註與補充

* 單一用戶設計：無多用戶登入，也無加密，安全性僅依賴本機／私有伺服器
* SQLite 資料夾可手動備份
* 若要跨裝置同步，僅需同一伺服器網址，前端可連後端 API

